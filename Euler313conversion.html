<html>

<!--This script converts a 3x3 transformation matrix (input assumed to be
in radians) into an Euler angle 3-1-3 array (in degrees).
Program written by Matt Dienhart, 1-31-2017 -->

<p>Please enter a 3x3 transformation matrix.</p>
<div class="row">
	<input id="a11" type="text"></input>
    <input id="a12" type="text"></input>
    <input id="a13" type="text"></input>
</div>
<div class="row">
	<input id="a21" type="text"></input>
    <input id="a22" type="text"></input>
    <input id="a23" type="text"></input>
</div>
<div class="row">
	<input id="a31" type="text"></input>
    <input id="a32" type="text"></input>
    <input id="a33" type="text"></input>
</div>    

<a onclick="convertToEuler313();" href="javascript:void(0);">Calculate</a>

<p>The Euler angle 3-1-3 sequence is: </p>
<p id="output"></p>

<script>
function convertToEuler313(){
	var a11 = document.getElementById("a11").value;
    var a12 = document.getElementById("a12").value;
    var a13 = document.getElementById("a13").value;
    var a21 = document.getElementById("a21").value;
    var a22 = document.getElementById("a22").value;
    var a23 = document.getElementById("a23").value;
    var a31 = document.getElementById("a31").value;
    var a32 = document.getElementById("a32").value;
    var a33 = document.getElementById("a33").value;
    
    var A = [[a11, a12, 13],[a21, a22, a23],[a31,a32,a33]];
    var Euler = [0, 0, 0];
    
    Euler[1] = Math.acos(a33);
    Euler[0] = Math.acos(-a32/Math.sin(Euler[1]));
    Euler[2] = Math.acos(a23/Math.sin(Euler[1]));
    
    Euler[0] *= (180/3.14159265);
    Euler[1] *= (180/3.14159265);
    Euler[2] *= (180/3.14159265);
    
    document.getElementById("output").innerHTML = Euler[0]+", "+Euler[1]+", "+Euler[2];
	return null
}
</script>
</html>